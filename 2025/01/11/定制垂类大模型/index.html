<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="keywords"><meta name="descriptioon" content=""><meta name="renderer" content="wekit"><link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/css/public.css"><link rel="stylesheet" href="/css/reset.css"><link rel="stylesheet" href="/css/iconfont.css"><title>定制垂类大模型 [ Hexo ]</title><link rel="stylesheet" href="/css/partial/footer.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"><link rel="stylesheet" href="/css/partial/sidebar.css"><link rel="stylesheet" href="/css/post.css"><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><meta name="generator" content="Hexo 8.1.1"></head><body><link rel="stylesheet" href="/css/partial/header.css"><div class="header"><div class="maxwidth"><div class="nav"><a id="artlist" href="/404"><i class="iconfont icon404"></i><span class="headhid">&nbsp;404</span></a><a id="artlist" href="/archives"><i class="iconfont iconarchives"></i><span class="headhid">&nbsp;Archives</span></a><a id="artlist" href="/link"><i class="iconfont iconlink"></i><span class="headhid">&nbsp;Link</span></a><a id="artlist" href="/about"><i class="iconfont iconabout"></i><span class="headhid">&nbsp;About</span></a></div><a class="search" href="/">TONG-H</a></div></div><div class="main"> <div class="maxwidth"><link rel="stylesheet" href="/css/partial/sidebar.css"><div id="sidebar"><div class="social"><a href="/archives" title="Home"><i class="iconfont iconHome"></i></a><a href="mailto:tongt0232@gmail.com" title="E-Mail"><i class="iconfont iconweibiaoti554"></i></a><a target="_blank" rel="noopener" href="https://github.com/tong-h" title="GitHub"><i class="iconfont iconGitHub"></i></a><a target="_blank" rel="noopener" href="https://juejin.cn/user/1204720474809741" title="juejin"><img src="/images/juejinicon-sidebar.png"></a><a target="_blank" rel="noopener" href="https://www.jianshu.com/u/20de04cc53de" title="jianshu"><img src="/images/jianicon-sidebar.png"></a></div><div class="structure category-list"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E5%88%B6%E5%9E%82%E7%B1%BB%E5%A4%A7%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.</span> <span class="toc-text">定制垂类大模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E8%A7%82%E7%82%B9"><span class="toc-number">1.1.</span> <span class="toc-text">核心观点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E6%94%B6%E9%9B%86%E5%8F%AF%E8%83%BD%E7%9A%84%E6%95%B0%E6%8D%AE%E9%9B%86%E7%B4%A0%E6%9D%90"><span class="toc-number">1.2.</span> <span class="toc-text">1.1 收集可能的数据集素材</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E6%9E%84%E5%BB%BA%E5%AF%B9%E5%BA%94%E6%A0%BC%E5%BC%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">1.3.</span> <span class="toc-text">1.2 构建对应格式的数据集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-1-%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.2.1 选择数据格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-2-%E6%9E%84%E5%BB%BA%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">1.3.2.</span> <span class="toc-text">1.2.2 构建数据集</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E9%85%8D%E7%BD%AE%E5%BE%AE%E8%B0%83%E5%8F%82%E6%95%B0"><span class="toc-number">1.4.</span> <span class="toc-text">1.3 配置微调参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E8%AF%84%E4%BB%B7%E5%BE%AE%E8%B0%83%E6%95%88%E6%9E%9C"><span class="toc-number">1.5.</span> <span class="toc-text">1.4 评价微调效果</span></a></li></ol></li></ol></div><div class="tags"><a href="/tags/AI/" style="font-size: 18px; color: #da8d00">AI</a> <a href="/tags/AI%E5%BC%80%E5%8F%91/" style="font-size: 12px; color: #ffac00">AI开发</a> <a href="/tags/CTF/" style="font-size: 24px; color: #b46e00">CTF</a> <a href="/tags/Note/" style="font-size: 12px; color: #ffac00">Note</a> <a href="/tags/web/" style="font-size: 12px; color: #ffac00">web</a> <a href="/tags/%E5%A6%99%E5%A6%99%E5%B0%8F%E5%B7%A5%E5%85%B7/" style="font-size: 12px; color: #ffac00">妙妙小工具</a> <a href="/tags/%E6%A0%87%E7%AD%BE/" style="font-size: 12px; color: #ffac00">标签</a></div></div><div class="post rightside"><h1 class="artititle">定制垂类大模型</h1><div class="info"><i class="iconfont iconbiaoqian" title="文章标签"><span>AI</span></i><i class="iconfont iconshijian"><span title="文章发布时间">2025-01-11</span></i></div><div class="postDetail"><h2 id="定制垂类大模型"><a href="#定制垂类大模型" class="headerlink" title="定制垂类大模型"></a>定制垂类大模型</h2><hr>
<h3 id="核心观点"><a href="#核心观点" class="headerlink" title="核心观点"></a><strong>核心观点</strong></h3><p><strong>定制垂类大模型 &#x3D; 优质数据集 + 开源大模型</strong></p>
<blockquote>
<p>我们微调的目的，是定制一个专属的垂类大模型，实现这一点，需要我们所指定领域的优质数据集和一个选定的开源通用大模型。</p>
</blockquote>
<p>通俗来说，<strong>微调</strong>，其实可以类比为给一个<strong>高中生</strong>（<strong>通用大模型</strong>），灌输<strong>知识偏好</strong>（数据集）塑造世界观，长大成<strong>职业选手</strong>（分化成对应的能力者，<strong>垂类大模型</strong>）。</p>
<hr>
<h3 id="1-1-收集可能的数据集素材"><a href="#1-1-收集可能的数据集素材" class="headerlink" title="1.1 收集可能的数据集素材"></a><strong>1.1 收集可能的数据集素材</strong></h3><p>Chat-嬛嬛这种赋予大模型特定人格的技术，也被称为<strong>大模型的人格化</strong>，它是指通过一系列技术手段，使大模型在<strong>语言表达、行为模式、情感反应</strong>等方面更接近人类，从而为用户带来更自然、更亲切、更个性化的<strong>交互体验</strong>。</p>
<p>要想实现这个目标，我们其实就是要让 AI 在对话中，能按照一问一答的方式，回复出对应人物风格的话语，最简单我们能思考到的，就是把相关的台词都喂给 AI，因此我们可以去网上搜集相关的剧本。</p>
<hr>
<h3 id="1-2-构建对应格式的数据集"><a href="#1-2-构建对应格式的数据集" class="headerlink" title="1.2 构建对应格式的数据集"></a><strong>1.2 构建对应格式的数据集</strong></h3><h4 id="1-2-1-选择数据格式"><a href="#1-2-1-选择数据格式" class="headerlink" title="1.2.1 选择数据格式"></a><strong>1.2.1 选择数据格式</strong></h4><ol>
<li><strong>文本数据：</strong> 对于语言模型来说，微调数据必须是文本。如果你的数据源是 WORD、PDF 等格式，需要使用专门的解析工具，提取其中的文本。如 Python 的 <code>docx</code>、<code>PyPDF2</code> 包。</li>
<li><strong>结构化存储：</strong> 微调数据除了当前对话的输入和输出之外，还有一些其他的属性，如想要大模型扮演的角色、对话历史等等。因此，为了更好地对数据进行处理，通常会对数据进行结构化，并以 <strong>json</strong> 或者 <strong>jsonl</strong> 的格式进行存储。</li>
<li><strong>主流格式：</strong> 目前主流的数据集有两种格式：<strong>Alpaca</strong> 格式和 <strong>ShareGPT</strong> 格式，其主要特点如下表所示。</li>
</ol>
<h4 id="1-2-2-构建数据集"><a href="#1-2-2-构建数据集" class="headerlink" title="1.2.2 构建数据集"></a><strong>1.2.2 构建数据集</strong></h4><p class="has-small-font-size">这里为了构建足够大的数据集，我直接将 instruction 和 output 分为了 subject、verb、object 以及其他的一些助词，直接通过代码枚举组合生成了足够的数据</p>

<hr>
<h3 id="1-3-配置微调参数"><a href="#1-3-配置微调参数" class="headerlink" title="1.3 配置微调参数"></a><strong>1.3 配置微调参数</strong></h3><p>在讯飞星辰 MaaS 平台，可支持配置的微调参数可以分成下面三个大类。</p>
<hr>
<h3 id="1-4-评价微调效果"><a href="#1-4-评价微调效果" class="headerlink" title="1.4 评价微调效果"></a><strong>1.4 评价微调效果</strong></h3><ol>
<li>模型训练完成后，可以仿照上一篇文章一样，将模型发布为服务，使用简单数据进行<strong>效果验证</strong>。</li>
<li>如果效果符合预期，可以采用类似构建训练集的方式，构建测试集，进行<strong>批量推理</strong>。</li>
<li>最后，如果希望将模型集成在要开发的应用中，可以使用在模型服务列表，查看<strong>调用信息</strong>，进行 <strong>API 调用</strong>。</li>
</ol>
</div><link rel="stylesheet" href="/css/partial/footer.css"><div class="footer"><p><span>Copyright © 2017 - 2023</span><a target="_blank" rel="noopener" href="http://www.beian.miit.gov.cn/">蜀ICP备19024124号</a></p><p><i class="iconfont iconchakan"><span>本站总访问量</span><span id="busuanzi_container_site_pv">  <span id="busuanzi_value_site_pv"></span> </span></i><i class="iconfont iconabout"><span>本站访客数</span><span id="busuanzi_container_site_uv">  <span id="busuanzi_value_site_uv"></span> </span></i></p></div></div></div></div><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body></html>